<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Edita el producto</title>
        <link href="/css/productUpdate.css" rel="stylesheet">
        <link href="/css/header.css" rel="stylesheet">
        <link href="/css/footer.css" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;1,100;1,200;1,300;1,400;1,500&display=swap" rel="stylesheet">
        <script src="https://kit.fontawesome.com/01e5ccde67.js" crossorigin="anonymous"></script>
    </head>

<body>
    <%- include("../partials/header")%>
    <main>
        <section>
            <form id="form-product" action="/producto/<%= product.id%>?_method=PUT" method="post" enctype="multipart/form-data">
                <h3>Editá el producto</h3>
                <fieldset>
                    <label for="product-name"></label>
                    <input class="product-input" type="text" name="productName" id="product-name" required placeholder="Nombre del producto" value="<%= product.name %> ">
                </fieldset>
                
                <fieldset>
                        <label for="product-brand">Marca:</label>
                        <select name="productBrand" id="product-brand" required>
                            <% brands.forEach(brand => { %>
                                <% if (product.brand.id == brand.id) { %>
                                    <option value="<%= brand.id %>" selected><%= brand.name %></option>
                                <% } else { %>
                                    <option value="<%= brand.id %>"><%= brand.name %></option>
                                <% } %>
                            <% }) %>
                        </select>
                </fieldset>

                <fieldset>
                    <label for="product-descript"></label>
                    <input class="product-input" type="textarea" name="productDescript" id="product-descript" required placeholder="Descripcion" value="<%= product.descript %>">
                </fieldset>

                <fieldset>
                    <label for="product-images">Imagen de Producto:</label>
                    <input type="file" name="productImages" id="product-images" required multiple>
                </fieldset>

                <fieldset>
                    <label for="product-cat">Categoría:</label>
                    <select name="productCat" id="product-cat" required>
                        <% category.forEach(category => { %>
                            <% if (product.category.id == category.id) { %>
                                <option value="<%= category.id %>" selected><%= category.name %></option>
                            <% } else { %>
                                <option value="<%= category.id %>"><%= category.name %></option>
                            <% } %>
                        <% }) %>
                    </select>
                </fieldset>

                <fieldset>
                    <label for="product-colors">Colores:</label>
                    <select name="productColors" id="product-colors" required multiple>
                        <% colors.forEach(colors => { %>
                            <% if (product.colors.id == colors.id) { %>
                                <option value="<%= colors.id %>" selected><%= colors.name %></option>
                            <% } else { %>
                                <option value="<%= colors.id %>"><%= colors.name %></option>
                            <% } %>
                        <% }) %>
                    </select>
                </fieldset>

                <fieldset>
                    <label id="product-price" for="product-price">Precio:</label>
                    <input class="product-input" type="text" name="productPrice" id="product-price" required placeholder="$$$" value="<%= product.price %>">
                </fieldset>

                <fieldset>
                    <button id="sendButton" type="submit">Editar producto</button>
                </fieldset>
        
                <fieldset>
                    <button id="eraseButton" type="reset">Borrar todo</button>
                </fieldset>
                </form>
                
                <form id="form-product" action="/producto/<%= product.id%>?_method=DELETE" method="post">    
                    <fieldset>
                        <button id="deleteButton" type="submit">Eliminar producto</button>
                    </fieldset>
                    
                </form>
            
        </section>

        <section>
            
        </section>
    </main>
    <%- include("../partials/footer")%>
</body>
</html>